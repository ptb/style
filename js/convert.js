import{isArr as e,merge as r,camelCase as n,isObj as t,isStr as o,isFn as c,debounce as i,sortJSON as l}from"../index.js";import s from"./postcss.js";import{useRef as u,useState as a,useEffect as d,jsxs as f,jsx as p,StrictMode as m,Fragment as h}from"./react.js";import{Prism as g}from"./prism.js";import{hydrate as v}from"./react-dom.js";function y(c){return e(c)?c.reduce((function(e,t){switch(t.type){case"decl":{const o=n(t.prop);return r(e,{[o]:t.value})}case"rule":{const n=t.selector.replace(/[\n\r\s]+/gu," ");return r(e,{[n]:y(t.nodes)})}case"atrule":if(["media","supports"].includes(t.name)){const n=["@",t.name," ",t.params].join("");return r(e,{[n]:y(t.nodes)})}return e;default:return e}}),{}):t(c)&&"root"===c.type?y(c.nodes):o(c)?y(s().process(c,{from:void 0}).sync().root.toJSON()):{}}var j={$editor:"",code:"orv59l",div:"or1cqo",pre:"orqipf",textarea:"or2bxt ornyem"};function N({children:e="",id:r,lang:n="js",onInput:t,readOnly:o=!1,rows:i=3,...l}){const s=u(null),m=u(null),h=u(null),[v,y]=a(e);return d((function(){e!==v&&y(e)}),[e,v]),d((function(){g.highlightElement(s.current)}),[v]),d((function(){h&&h.current&&new ResizeObserver((function(e){for(const r of e)g.plugins.lineNumbers.resize(r.target),g.plugins.lineHighlight.highlightLines(r.target)()})).observe(h.current)}),[h]),f("div",{className:j.div,children:[p("pre",{"aria-hidden":!0,className:[j.pre,`language-${n}`,"line-numbers"].join(" "),id:r,ref:h,...l,children:p("code",{className:j.code,ref:s,children:v+("\n"===v[v.length-1]?" ":"")})}),p("textarea",{className:j.textarea,onInput:function(e){y(e.target.value||""),c(t)&&t(e)},onScroll:function(){h.current&&m.current&&(h.current.scrollTop=m.current.scrollTop,h.current.scrollLeft=m.current.scrollLeft)},readOnly:o,ref:m,rows:i,spellCheck:!1,value:v})]})}function x({children:e}){const[r,n]=a(e),[t,o]=a("");function c(e){try{return y(e)}catch(e){return t}}d((function(){e!==r&&(n(e),o(c(e)))}),[e]);const s=i((function(){o(JSON.stringify(l(c(r)),null,2))}),350);return d((function(){s()}),[s,r]),f(h,{children:[p(N,{onInput:function(e){n(e.target.value||"")},children:r}),p(N,{children:t})]})}v(p(m,{children:p(x,{})}),document.getElementById("root"));export{x as Convert};
